<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api-documentation for
    <a
        
        href="https://github.com/apigee-127/swagger-tools"
        
    >swagger-tools (v0.10.1)</a>
</h1>
<h4>Various tools for using and integrating with Swagger.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.swagger-tools">module swagger-tools</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.initializeMiddleware">
            function <span class="apidocSignatureSpan">swagger-tools.</span>initializeMiddleware
            <span class="apidocSignatureSpan">(rlOrSO, resources, callback)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">swagger-tools.</span>helpers</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">swagger-tools.</span>specs</span>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">swagger-tools.</span>validators</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.swagger-tools.helpers">module swagger-tools.helpers</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.createJsonValidator">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>createJsonValidator
            <span class="apidocSignatureSpan">(schemas)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.formatResults">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>formatResults
            <span class="apidocSignatureSpan">(results)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.getErrorCount">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getErrorCount
            <span class="apidocSignatureSpan">(results)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.getSpec">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getSpec
            <span class="apidocSignatureSpan">(version, throwError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.getSwaggerVersion">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getSwaggerVersion
            <span class="apidocSignatureSpan">(document)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.printValidationResults">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>printValidationResults
            <span class="apidocSignatureSpan">(version, apiDOrSO, apiDeclarations, results, printSummary)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.helpers.registerCustomFormats">
            function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>registerCustomFormats
            <span class="apidocSignatureSpan">(json)</span>
            </a>
            
        </li>
        
        <li>
            
            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">swagger-tools.helpers.</span>swaggerOperationMethods</span>
            
        </li>
        
    </ol></li>
    
    <li class="apidocModuleLi"><a href="#apidoc.module.swagger-tools.validators">module swagger-tools.validators</a><ol>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateAgainstSchema">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateAgainstSchema
            <span class="apidocSignatureSpan">(schemaOrName, data, validator)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateArrayType">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateArrayType
            <span class="apidocSignatureSpan">(schema)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateContentType">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateContentType
            <span class="apidocSignatureSpan">(gPOrC, oPOrC, reqOrRes)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateEnum">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateEnum
            <span class="apidocSignatureSpan">(val, allowed)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMaxItems">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxItems
            <span class="apidocSignatureSpan">(val, maxItems)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMaxLength">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxLength
            <span class="apidocSignatureSpan">(val, maxLength)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMaxProperties">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxProperties
            <span class="apidocSignatureSpan">(val, maxProperties)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMaximum">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaximum
            <span class="apidocSignatureSpan">(val, maximum, type, exclusive)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMinItems">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinItems
            <span class="apidocSignatureSpan">(val, minItems)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMinLength">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinLength
            <span class="apidocSignatureSpan">(val, minLength)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMinProperties">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinProperties
            <span class="apidocSignatureSpan">(val, minProperties)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMinimum">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinimum
            <span class="apidocSignatureSpan">(val, minimum, type, exclusive)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateMultipleOf">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMultipleOf
            <span class="apidocSignatureSpan">(val, multipleOf)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validatePattern">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validatePattern
            <span class="apidocSignatureSpan">(val, pattern)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateRequiredness">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateRequiredness
            <span class="apidocSignatureSpan">(val, required)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateSchemaConstraints">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateSchemaConstraints
            <span class="apidocSignatureSpan">(version, schema, path, val)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateTypeAndFormat">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateTypeAndFormat
            <span class="apidocSignatureSpan">(version, val, type, format, allowEmptyValue, skipError)</span>
            </a>
            
        </li>
        
        <li>
            
            <a class="apidocElementLiA" href="#apidoc.element.swagger-tools.validators.validateUniqueItems">
            function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateUniqueItems
            <span class="apidocSignatureSpan">(val, isUnique)</span>
            </a>
            
        </li>
        
    </ol></li>
    
</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.swagger-tools" id="apidoc.module.swagger-tools">module swagger-tools</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.initializeMiddleware" id="apidoc.element.swagger-tools.initializeMiddleware">
        function <span class="apidocSignatureSpan">swagger-tools.</span>initializeMiddleware
        <span class="apidocSignatureSpan">(rlOrSO, resources, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function initializeMiddleware(rlOrSO, resources, callback) {
  var args;
  var spec;

  debug(&#x27;Initializing middleware&#x27;);

  if (_.isUndefined(rlOrSO)) {
    throw new Error(&#x27;rlOrSO is required&#x27;);
  } else if (!_.isPlainObject(rlOrSO)) {
    throw new TypeError(&#x27;rlOrSO must be an object&#x27;);
  }

  args = [rlOrSO];
  spec = helpers.getSpec(helpers.getSwaggerVersion(rlOrSO), true);

  debug(&#x27;  Identified Swagger version: %s&#x27;, spec.version);

  if (spec.version === &#x27;1.2&#x27;) {
    if (_.isUndefined(resources)) {
      throw new Error(&#x27;resources is required&#x27;);
    } else if (!_.isArray(resources)) {
      throw new TypeError(&#x27;resources must be an array&#x27;);
    }

    debug(&#x27;  Number of API Declarations: %d&#x27;, resources.length);

    args.push(resources);
  } else {
    callback = arguments[1];
  }

  if (_.isUndefined(callback)) {
    throw new Error(&#x27;callback is required&#x27;);
  } else if (!_.isFunction(callback)) {
    throw new TypeError(&#x27;callback must be a function&#x27;);
  }

  args.push(function (err, results) {
    if (results &#x26;&#x26; results.errors.length + _.reduce(results.apiDeclarations || [], function (count, apiDeclaration) {
      return count += (apiDeclaration ? apiDeclaration.errors.length : 0);
    }, 0) &#x3e; 0) {
      err = new Error(&#x27;Swagger document(s) failed validation so the server cannot start&#x27;);

      err.failedValidation = true;
      err.results = results;
    }

    debug(&#x27;  Validation: %s&#x27;, err ? &#x27;failed&#x27; : &#x27;succeeded&#x27;);

    try {
      if (err) {
        throw err;
      }

      callback({
        // Create a wrapper to avoid having to pass the non-optional arguments back to the swaggerMetadata middleware
        swaggerMetadata: function () {
          var swaggerMetadata = require(&#x27;./middleware/swagger-metadata&#x27;);

          return swaggerMetadata.apply(undefined, args.slice(0, args.length - 1));
        },
        swaggerRouter: require(&#x27;./middleware/swagger-router&#x27;),
        swaggerSecurity: require(&#x27;./middleware/swagger-security&#x27;),
        // Create a wrapper to avoid having to pass the non-optional arguments back to the swaggerUi middleware
        swaggerUi: function (options) {
          var swaggerUi = require(&#x27;./middleware/swagger-ui&#x27;);
          var suArgs = [rlOrSO];

          if (spec.version === &#x27;1.2&#x27;) {
            suArgs.push(_.reduce(resources, function (map, resource) {
              map[resource.resourcePath] = resource;

              return map;
            }, {}));
          }

          suArgs.push(options || {});

          return swaggerUi.apply(undefined, suArgs);
        },
        swaggerValidator: require(&#x27;./middleware/swagger-validator&#x27;)
      });
    } catch (err) {
      if (process.env.RUNNING_SWAGGER_TOOLS_TESTS === &#x27;true&#x27;) {
        // When running the swagger-tools test suite, we want to return an error instead of exiting the process.  This
        // does not mean that this function is an error-first callback but due to json-refs using Promises, we have to
        // return the error to avoid the error being swallowed.
        callback(err);
      } else {
        if (err.failedValidation === true) {
          helpers.printValidationResults(spec.version, rlOrSO, resources, results, true);
        } else {
          console.error(&#x27;Error initializing middleware&#x27;);
          console.error(err.stack);
        }

        process.exit(1);
      }
    }
  });

  spec.validate.apply(spec, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.swagger-tools.helpers" id="apidoc.module.swagger-tools.helpers">module swagger-tools.helpers</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.createJsonValidator" id="apidoc.element.swagger-tools.helpers.createJsonValidator">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>createJsonValidator
        <span class="apidocSignatureSpan">(schemas)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createJsonValidator = function (schemas) {
  var validator = new ZSchema({
    breakOnFirstError: false,
    reportPathAsArray: true
  });
  var result;

  // Add the draft-04 spec
  validator.setRemoteReference(draft04Url, draft04Json);

  // Swagger uses some unsupported/invalid formats so just make them all pass
  _.each(customJsonSchemaFormats, function (format) {
    ZSchema.registerFormat(format, function () {
      return true;
    });
  });

  // Compile and validate the schemas
  if (!_.isUndefined(schemas)) {
    result = validator.compileSchema(schemas);

    // If there is an error, it&#x27;s unrecoverable so just blow the eff up
    if (result === false) {
      console.error(&#x27;JSON Schema file&#x27; + (schemas.length &#x3e; 1 ? &#x27;s are&#x27; : &#x27; is&#x27;) + &#x27; invalid:&#x27;);

      _.each(validator.getLastErrors(), function (err) {
        console.error(&#x27;  &#x27; + (_.isArray(err.path) ? JsonRefs.pathToPtr(err.path) : err.path) + &#x27;: &#x27; + err.message);
      });

      throw new Error(&#x27;Unable to create validator due to invalid JSON Schema&#x27;);
    }
  }

  return validator;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    .catch(callback);
} else {
  callback();
}
};

var validateAgainstSchema = function (spec, schemaOrName, data, callback) {
var validator = _.isString(schemaOrName) ? spec.validators[schemaOrName] : helpers.<span class="apidocCodeKeywordSpan">createJso\
nValidator</span>();

helpers.registerCustomFormats(data);

try {
  validators.validateAgainstSchema(schemaOrName, data, validator);
} catch (err) {
  if (err.failedValidation) {
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.formatResults" id="apidoc.element.swagger-tools.helpers.formatResults">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>formatResults
        <span class="apidocSignatureSpan">(results)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">formatResults = function (results) {
  if (results) {
    // Update the results based on its content to indicate success/failure accordingly
    results = (results.errors.length + results.warnings.length +
    _.reduce(results.apiDeclarations, function (count, aResult) {
      if (aResult) {
        count += aResult.errors.length + aResult.warnings.length;
      }

      return count;
    }, 0) &#x3e; 0) ? results : undefined;
  }

  return results;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  validateDefinitions(documentMetadata, results);

  callback(undefined, results);
};

var validateSemantically = function (spec, rlOrSO, apiDeclarations, callback) {
  var cbWrapper = function (err, results) {
    callback(err, helpers.<span class="apidocCodeKeywordSpan">formatResults</span>(results));
  };
  if (spec.version === &#x27;1.2&#x27;) {
    validateSwagger1_2(spec, rlOrSO, apiDeclarations, cbWrapper); // jshint ignore:line
  } else {
    validateSwagger2_0(spec, rlOrSO, cbWrapper); // jshint ignore:line
  }
};
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.getErrorCount" id="apidoc.element.swagger-tools.helpers.getErrorCount">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getErrorCount
        <span class="apidocSignatureSpan">(results)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getErrorCount = function (results) {
  var errors = 0;

  if (results) {
    errors = results.errors.length;

    _.each(results.apiDeclarations, function (adResults) {
      if (adResults) {
        errors += adResults.errors.length;
      }
    });
  }

  return errors;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Specification.prototype.composeModel = function (apiDOrSO, modelIdOrRef, callback) {
  var swaggerVersion = helpers.getSwaggerVersion(apiDOrSO);
  var doComposition = function (err, results) {
var documentMetadata;

if (err) {
  return callback(err);
} else if (helpers.<span class="apidocCodeKeywordSpan">getErrorCount</span>(results) &#x3e; 0) {
  return handleValidationError(results, callback);
}

documentMetadata = getDocumentCache(apiDOrSO);
results = {
  errors: [],
  warnings: []
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.getSpec" id="apidoc.element.swagger-tools.helpers.getSpec">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getSpec
        <span class="apidocSignatureSpan">(version, throwError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSpec = function (version, throwError) {
  var spec;

  version = coerceVersion(version);
  spec = specCache[version];

  if (_.isUndefined(spec)) {
    switch (version) {
    case &#x27;1.2&#x27;:
      spec = require(&#x27;../lib/specs&#x27;).v1_2; // jshint ignore:line

      break;

    case &#x27;2.0&#x27;:
      spec = require(&#x27;../lib/specs&#x27;).v2_0; // jshint ignore:line

      break;

    default:
      if (throwError === true) {
        throw new Error(&#x27;Unsupported Swagger version: &#x27; + version);
      }
    }
  }

  return spec;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_.isUndefined(rlOrSO)) {
  throw new Error(&#x27;rlOrSO is required&#x27;);
} else if (!_.isPlainObject(rlOrSO)) {
  throw new TypeError(&#x27;rlOrSO must be an object&#x27;);
}

args = [rlOrSO];
spec = helpers.<span class="apidocCodeKeywordSpan">getSpec</span>(helpers.getSwaggerVersion(rlOrSO), true);

debug(&#x27;  Identified Swagger version: %s&#x27;, spec.version);

if (spec.version === &#x27;1.2&#x27;) {
  if (_.isUndefined(resources)) {
    throw new Error(&#x27;resources is required&#x27;);
  } else if (!_.isArray(resources)) {
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.getSwaggerVersion" id="apidoc.element.swagger-tools.helpers.getSwaggerVersion">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>getSwaggerVersion
        <span class="apidocSignatureSpan">(document)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getSwaggerVersion = function (document) {
  return _.isPlainObject(document) ? coerceVersion(document.swaggerVersion || document.swagger) : undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_.isUndefined(rlOrSO)) {
  throw new Error(&#x27;rlOrSO is required&#x27;);
} else if (!_.isPlainObject(rlOrSO)) {
  throw new TypeError(&#x27;rlOrSO must be an object&#x27;);
}

args = [rlOrSO];
spec = helpers.getSpec(helpers.<span class="apidocCodeKeywordSpan">getSwaggerVersion</span>(rlOrSO), true);

debug(&#x27;  Identified Swagger version: %s&#x27;, spec.version);

if (spec.version === &#x27;1.2&#x27;) {
  if (_.isUndefined(resources)) {
    throw new Error(&#x27;resources is required&#x27;);
  } else if (!_.isArray(resources)) {
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.printValidationResults" id="apidoc.element.swagger-tools.helpers.printValidationResults">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>printValidationResults
        <span class="apidocSignatureSpan">(version, apiDOrSO, apiDeclarations, results, printSummary)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">printValidationResults = function (version, apiDOrSO, apiDeclarations, results, printSummary) {
  var hasErrors = getErrorCount(results) &#x3e; 0;
  var stream = hasErrors ? console.error : console.log;
  var pluralize = function (string, count) {
    return count === 1 ? string : string + &#x27;s&#x27;;
  };
  var printErrorsOrWarnings = function (header, entries, indent) {
    if (header) {
      stream(header + &#x27;:&#x27;);
      stream();
    }

    _.each(entries, function (entry) {
      stream(new Array(indent + 1).join(&#x27; &#x27;) + JsonRefs.pathToPtr(entry.path) + &#x27;: &#x27; + entry.message);

      if (entry.inner) {
        printErrorsOrWarnings (undefined, entry.inner, indent + 2);
      }
    });

    if (header) {
      stream();
    }
  };
  var errorCount = 0;
  var warningCount = 0;

  stream();

  if (results.errors.length &#x3e; 0) {
    errorCount += results.errors.length;

    printErrorsOrWarnings(&#x27;API Errors&#x27;, results.errors, 2);
  }

  if (results.warnings.length &#x3e; 0) {
    warningCount += results.warnings.length;

    printErrorsOrWarnings(&#x27;API Warnings&#x27;, results.warnings, 2);
  }

  if (results.apiDeclarations) {
    results.apiDeclarations.forEach(function (adResult, index) {
      if (!adResult) {
        return;
      }

      var name = apiDeclarations[index].resourcePath || index;

      if (adResult.errors.length &#x3e; 0) {
        errorCount += adResult.errors.length;

        printErrorsOrWarnings(&#x27;  API Declaration (&#x27; + name + &#x27;) Errors&#x27;, adResult.errors, 4);
      }

      if (adResult.warnings.length &#x3e; 0) {
        warningCount += adResult.warnings.length;

        printErrorsOrWarnings(&#x27;  API Declaration (&#x27; + name + &#x27;) Warnings&#x27;, adResult.warnings, 4);
      }
    });
  }

  if (printSummary) {
    if (errorCount &#x3e; 0) {
      stream(errorCount + &#x27; &#x27; + pluralize(&#x27;error&#x27;, errorCount) + &#x27; and &#x27; + warningCount + &#x27; &#x27; +
                    pluralize(&#x27;warning&#x27;, warningCount));
    } else {
      stream(&#x27;Validation succeeded but with &#x27; + warningCount + &#x27; &#x27; + pluralize(&#x27;warning&#x27;, warningCount));
    }
  }

  stream();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (process.env.RUNNING_SWAGGER_TOOLS_TESTS === &#x27;true&#x27;) {
  // When running the swagger-tools test suite, we want to return an error instead of exiting the process.  This
  // does not mean that this function is an error-first callback but due to json-refs using Promises, we have to
  // return the error to avoid the error being swallowed.
  callback(err);
} else {
  if (err.failedValidation === true) {
    helpers.<span class="apidocCodeKeywordSpan">printValidationResults</span>(spec.version, rlOrSO, resources, results, true);
  } else {
    console.error(&#x27;Error initializing middleware&#x27;);
    console.error(err.stack);
  }

  process.exit(1);
}
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.helpers.registerCustomFormats" id="apidoc.element.swagger-tools.helpers.registerCustomFormats">
        function <span class="apidocSignatureSpan">swagger-tools.helpers.</span>registerCustomFormats
        <span class="apidocSignatureSpan">(json)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">registerCustomFormats = function (json) {
  traverse(json).forEach(function () {
    var name = this.key;
    var format = this.node;

    if (name === &#x27;format&#x27; &#x26;&#x26; _.indexOf(ZSchema.getRegisteredFormats(), format) === -1) {
      ZSchema.registerFormat(format, function () {
        return true;
      });
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  callback();
}
};

var validateAgainstSchema = function (spec, schemaOrName, data, callback) {
var validator = _.isString(schemaOrName) ? spec.validators[schemaOrName] : helpers.createJsonValidator();

helpers.<span class="apidocCodeKeywordSpan">registerCustomFormats</span>(data);

try {
  validators.validateAgainstSchema(schemaOrName, data, validator);
} catch (err) {
  if (err.failedValidation) {
    return callback(undefined, err.results);
  } else {
...</pre></li>
    </ul>
    
    
    
    
</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.swagger-tools.validators" id="apidoc.module.swagger-tools.validators">module swagger-tools.validators</a></h1>
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateAgainstSchema" id="apidoc.element.swagger-tools.validators.validateAgainstSchema">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateAgainstSchema
        <span class="apidocSignatureSpan">(schemaOrName, data, validator)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateAgainstSchema = function (schemaOrName, data, validator) {
  var sanitizeError = function (obj) {
    // Make anyOf/oneOf errors more human readable (Issue 200)
    var defType = [&#x27;additionalProperties&#x27;, &#x27;items&#x27;].indexOf(obj.path[obj.path.length - 1]) &#x3e; -1 ?
          &#x27;schema&#x27; :
          obj.path[obj.path.length - 2];

    if ([&#x27;ANY_OF_MISSING&#x27;, &#x27;ONE_OF_MISSING&#x27;].indexOf(obj.code) &#x3e; -1) {
      switch (defType) {
      case &#x27;parameters&#x27;:
        defType = &#x27;parameter&#x27;;
        break;

      case &#x27;responses&#x27;:
        defType = &#x27;response&#x27;;
        break;

      case &#x27;schema&#x27;:
        defType += &#x27; &#x27; + obj.path[obj.path.length - 1];

        // no default
      }

      obj.message = &#x27;Not a valid &#x27; + defType + &#x27; definition&#x27;;
    }

    // Remove the params portion of the error
    delete obj.params;
    delete obj.schemaId;

    if (obj.inner) {
      _.each(obj.inner, function (nObj) {
        sanitizeError(nObj);
      });
    }
  };
  var schema = _.isPlainObject(schemaOrName) ? _.cloneDeep(schemaOrName) : schemaOrName;

  // We don&#x27;t check this due to internal usage but if validator is not provided, schemaOrName must be a schema
  if (_.isUndefined(validator)) {
    validator = helpers.createJsonValidator([schema]);
  }

  var valid = validator.validate(data, schema);

  if (!valid) {
    try {
      throwErrorWithCode(&#x27;SCHEMA_VALIDATION_FAILED&#x27;, &#x27;Failed schema validation&#x27;);
    } catch (err) {
      err.results = {
        errors: _.map(validator.getLastErrors(), function (err) {
          sanitizeError(err);

          return err;
        }),
        warnings: []
      };

      throw err;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var validateAgainstSchema = function (spec, schemaOrName, data, callback) {
var validator = _.isString(schemaOrName) ? spec.validators[schemaOrName] : helpers.createJsonValidator();

helpers.registerCustomFormats(data);

try {
  validators.<span class="apidocCodeKeywordSpan">validateAgainstSchema</span>(schemaOrName, data, validator);
} catch (err) {
  if (err.failedValidation) {
    return callback(undefined, err.results);
  } else {
    return callback(err);
  }
}
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateArrayType" id="apidoc.element.swagger-tools.validators.validateArrayType">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateArrayType
        <span class="apidocSignatureSpan">(schema)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateArrayType = function (schema) {
  // We have to do this manually for now
  if (schema.type === &#x27;array&#x27; &#x26;&#x26; _.isUndefined(schema.items)) {
    throwErrorWithCode(&#x27;OBJECT_MISSING_REQUIRED_PROPERTY&#x27;, &#x27;Missing required property: items&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateContentType" id="apidoc.element.swagger-tools.validators.validateContentType">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateContentType
        <span class="apidocSignatureSpan">(gPOrC, oPOrC, reqOrRes)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateContentType = function (gPOrC, oPOrC, reqOrRes) {
  // http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1
  var isResponse = typeof reqOrRes.end === &#x27;function&#x27;;
  var contentType = isResponse ? reqOrRes.getHeader(&#x27;content-type&#x27;) : reqOrRes.headers[&#x27;content-type&#x27;];
  var pOrC = _.map(_.union(gPOrC, oPOrC), function (contentType) {
    return contentType.split(&#x27;;&#x27;)[0];
  });

  if (!contentType) {
    if (isResponse) {
      contentType = &#x27;text/plain&#x27;;
    } else {
      contentType = &#x27;application/octet-stream&#x27;;
    }
  }

  contentType = contentType.split(&#x27;;&#x27;)[0];

  if (pOrC.length &#x3e; 0 &#x26;&#x26; (isResponse ?
                          true :
                          [&#x27;POST&#x27;, &#x27;PUT&#x27;].indexOf(reqOrRes.method) !== -1) &#x26;&#x26; pOrC.indexOf(contentType) === -1) {
    throw new Error(&#x27;Invalid content type (&#x27; + contentType + &#x27;).  These are valid: &#x27; + pOrC.join(&#x27;, &#x27;));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateEnum" id="apidoc.element.swagger-tools.validators.validateEnum">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateEnum
        <span class="apidocSignatureSpan">(val, allowed)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateEnum = function (val, allowed) {
  if (!_.isUndefined(allowed) &#x26;&#x26; !_.isUndefined(val) &#x26;&#x26; allowed.indexOf(val) === -1) {
    throwErrorWithCode(&#x27;ENUM_MISMATCH&#x27;, &#x27;Not an allowable value (&#x27; + allowed.join(&#x27;, &#x27;) + &#x27;): &#x27; + val);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMaxItems" id="apidoc.element.swagger-tools.validators.validateMaxItems">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxItems
        <span class="apidocSignatureSpan">(val, maxItems)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMaxItems = function (val, maxItems) {
  if (!_.isUndefined(maxItems) &#x26;&#x26; val.length &#x3e; maxItems) {
    throwErrorWithCode(&#x27;ARRAY_LENGTH_LONG&#x27;, &#x27;Array is too long (&#x27; + val.length + &#x27;), maximum &#x27; + maxItems);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMaxLength" id="apidoc.element.swagger-tools.validators.validateMaxLength">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxLength
        <span class="apidocSignatureSpan">(val, maxLength)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMaxLength = function (val, maxLength) {
  if (!_.isUndefined(maxLength) &#x26;&#x26; val.length &#x3e; maxLength) {
    throwErrorWithCode(&#x27;MAX_LENGTH&#x27;, &#x27;String is too long (&#x27; + val.length + &#x27; chars), maximum &#x27; + maxLength);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMaxProperties" id="apidoc.element.swagger-tools.validators.validateMaxProperties">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaxProperties
        <span class="apidocSignatureSpan">(val, maxProperties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMaxProperties = function (val, maxProperties) {
  var propCount = _.isPlainObject(val) ? Object.keys(val).length : 0;

  if (!_.isUndefined(maxProperties) &#x26;&#x26; propCount &#x3e; maxProperties) {
    throwErrorWithCode(&#x27;MAX_PROPERTIES&#x27;,
                       &#x27;Number of properties is too many (&#x27; + propCount + &#x27; properties), maximum &#x27; + maxProperties);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMaximum" id="apidoc.element.swagger-tools.validators.validateMaximum">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMaximum
        <span class="apidocSignatureSpan">(val, maximum, type, exclusive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMaximum = function (val, maximum, type, exclusive) {
  var code = exclusive === true ? &#x27;MAXIMUM_EXCLUSIVE&#x27; : &#x27;MAXIMUM&#x27;;
  var testMax;
  var testVal;

  if (_.isUndefined(exclusive)) {
    exclusive = false;
  }

  if (type === &#x27;integer&#x27;) {
    testVal = parseInt(val, 10);
  } else if (type === &#x27;number&#x27;) {
    testVal = parseFloat(val);
  }

  if (!_.isUndefined(maximum)) {
    testMax = parseFloat(maximum);

    if (exclusive &#x26;&#x26; testVal &#x3e;= testMax) {
      throwErrorWithCode(code, &#x27;Greater than or equal to the configured maximum (&#x27; + maximum + &#x27;): &#x27; + val);
    } else if (testVal &#x3e; testMax) {
      throwErrorWithCode(code, &#x27;Greater than the configured maximum (&#x27; + maximum + &#x27;): &#x27; + val);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMinItems" id="apidoc.element.swagger-tools.validators.validateMinItems">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinItems
        <span class="apidocSignatureSpan">(val, minItems)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMinItems = function (val, minItems) {
  if (!_.isUndefined(minItems) &#x26;&#x26; val.length &#x3c; minItems) {
    throwErrorWithCode(&#x27;ARRAY_LENGTH_SHORT&#x27;, &#x27;Array is too short (&#x27; + val.length + &#x27;), minimum &#x27; + minItems);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMinLength" id="apidoc.element.swagger-tools.validators.validateMinLength">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinLength
        <span class="apidocSignatureSpan">(val, minLength)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMinLength = function (val, minLength) {
  if (!_.isUndefined(minLength) &#x26;&#x26; val.length &#x3c; minLength) {
    throwErrorWithCode(&#x27;MIN_LENGTH&#x27;, &#x27;String is too short (&#x27; + val.length + &#x27; chars), minimum &#x27; + minLength);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMinProperties" id="apidoc.element.swagger-tools.validators.validateMinProperties">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinProperties
        <span class="apidocSignatureSpan">(val, minProperties)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMinProperties = function (val, minProperties) {
  var propCount = _.isPlainObject(val) ? Object.keys(val).length : 0;

  if (!_.isUndefined(minProperties) &#x26;&#x26; propCount &#x3c; minProperties) {
    throwErrorWithCode(&#x27;MIN_PROPERTIES&#x27;,
                       &#x27;Number of properties is too few (&#x27; + propCount + &#x27; properties), minimum &#x27; + minProperties);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMinimum" id="apidoc.element.swagger-tools.validators.validateMinimum">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMinimum
        <span class="apidocSignatureSpan">(val, minimum, type, exclusive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMinimum = function (val, minimum, type, exclusive) {
  var code = exclusive === true ? &#x27;MINIMUM_EXCLUSIVE&#x27; : &#x27;MINIMUM&#x27;;
  var testMin;
  var testVal;

  if (_.isUndefined(exclusive)) {
    exclusive = false;
  }

  if (type === &#x27;integer&#x27;) {
    testVal = parseInt(val, 10);
  } else if (type === &#x27;number&#x27;) {
    testVal = parseFloat(val);
  }

  if (!_.isUndefined(minimum)) {
    testMin = parseFloat(minimum);

    if (exclusive &#x26;&#x26; testVal &#x3c;= testMin) {
      throwErrorWithCode(code, &#x27;Less than or equal to the configured minimum (&#x27; + minimum + &#x27;): &#x27; + val);
    } else if (testVal &#x3c; testMin) {
      throwErrorWithCode(code, &#x27;Less than the configured minimum (&#x27; + minimum + &#x27;): &#x27; + val);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateMultipleOf" id="apidoc.element.swagger-tools.validators.validateMultipleOf">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateMultipleOf
        <span class="apidocSignatureSpan">(val, multipleOf)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateMultipleOf = function (val, multipleOf) {
  if (!_.isUndefined(multipleOf) &#x26;&#x26; val % multipleOf !== 0) {
    throwErrorWithCode(&#x27;MULTIPLE_OF&#x27;, &#x27;Not a multiple of &#x27; + multipleOf);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validatePattern" id="apidoc.element.swagger-tools.validators.validatePattern">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validatePattern
        <span class="apidocSignatureSpan">(val, pattern)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validatePattern = function (val, pattern) {
  if (!_.isUndefined(pattern) &#x26;&#x26; _.isNull(val.match(new RegExp(pattern)))) {
    throwErrorWithCode(&#x27;PATTERN&#x27;, &#x27;Does not match required pattern: &#x27; + pattern);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateRequiredness" id="apidoc.element.swagger-tools.validators.validateRequiredness">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateRequiredness
        <span class="apidocSignatureSpan">(val, required)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateRequiredness = function (val, required) {
  if (!_.isUndefined(required) &#x26;&#x26; required === true &#x26;&#x26; _.isUndefined(val)) {
    throwErrorWithCode(&#x27;REQUIRED&#x27;, &#x27;Is required&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateSchemaConstraints" id="apidoc.element.swagger-tools.validators.validateSchemaConstraints">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateSchemaConstraints
        <span class="apidocSignatureSpan">(version, schema, path, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateSchemaConstraints = function (version, schema, path, val) {
  var resolveSchema = function (schema) {
    var resolved = schema;

    if (resolved.schema) {
      path = path.concat([&#x27;schema&#x27;]);

      resolved = resolveSchema(resolved.schema);
    }

    return resolved;
  };

  var type = schema.type;
  var allowEmptyValue;

  if (!type) {
    if (!schema.schema) {
      if (path[path.length - 2] === &#x27;responses&#x27;) {
        type = &#x27;void&#x27;;
      } else {
        type = &#x27;object&#x27;;
      }
    } else {
      schema = resolveSchema(schema);
      type = schema.type || &#x27;object&#x27;;
    }
  }

  allowEmptyValue = schema ? schema.allowEmptyValue === true : false;

  try {
    // Always perform this check even if there is no value
    if (type === &#x27;array&#x27;) {
      validateArrayType(schema);
    }

    // Default to default value if necessary
    if (_.isUndefined(val)) {
      val = version === &#x27;1.2&#x27; ? schema.defaultValue : schema.default;

      path = path.concat([version === &#x27;1.2&#x27; ? &#x27;defaultValue&#x27; : &#x27;default&#x27;]);
    }

    // If there is no explicit default value, return as all validations will fail
    if (_.isUndefined(val)) {
      return;
    }

    if (type === &#x27;array&#x27;) {
      _.each(val, function (val, index) {
        try {
          validateSchemaConstraints(version, schema.items || {}, path.concat(index.toString()), val);
        } catch (err) {
          err.message = &#x27;Value at index &#x27; + index + &#x27; &#x27; + (err.code === &#x27;INVALID_TYPE&#x27; ? &#x27;is &#x27; : &#x27;&#x27;) +
            err.message.charAt(0).toLowerCase() + err.message.substring(1);

          throw err;
        }
      });
    } else {
      validateTypeAndFormat(version, val, type, schema.format, allowEmptyValue);
    }

    // Validate enum
    validateEnum(val, schema.enum);

    // Validate maximum
    validateMaximum(val, schema.maximum, type, schema.exclusiveMaximum);


    // Validate maxItems (Swagger 2.0+)
    validateMaxItems(val, schema.maxItems);

    // Validate maxLength (Swagger 2.0+)
    validateMaxLength(val, schema.maxLength);

    // Validate maxProperties (Swagger 2.0+)
    validateMaxProperties(val, schema.maxProperties);

    // Validate minimum
    validateMinimum(val, schema.minimum, type, schema.exclusiveMinimum);

    // Validate minItems
    validateMinItems(val, schema.minItems);

    // Validate minLength (Swagger 2.0+)
    validateMinLength(val, schema.minLength);

    // Validate minProperties (Swagger 2.0+)
    validateMinProperties(val, schema.minProperties);

    // Validate multipleOf (Swagger 2.0+)
    validateMultipleOf(val, schema.multipleOf);

    // Validate pattern (Swagger 2.0+)
    validatePattern(val, schema.pattern);

    // Validate uniqueItems
    validateUniqueItems(val, schema.uniqueItems);
  } catch (err) {
    err.path = path;

    throw err;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (!_.isUndefined(data) &#x26;&#x26; data.indexOf(val) &#x3e; -1) {
    createErrorOrWarning(&#x27;DUPLICATE_&#x27; + codeSuffix, msgPrefix + &#x27; already defined: &#x27; + val, path, dest);
  }
};

var validateSchemaConstraints = function (documentMetadata, schema, path, results, skip) {
  try {
    validators.<span class="apidocCodeKeywordSpan">validateSchemaConstraints</span>(documentMetadata.swaggerVersion, schema, pat\
h, undefined);
  } catch (err) {
    if (!skip) {
      createErrorOrWarning(err.code, err.message, err.path, results.errors);
    }
  }
};
...</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateTypeAndFormat" id="apidoc.element.swagger-tools.validators.validateTypeAndFormat">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateTypeAndFormat
        <span class="apidocSignatureSpan">(version, val, type, format, allowEmptyValue, skipError)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function validateTypeAndFormat(version, val, type, format, allowEmptyValue, skipError) {
  var result = true;
  var oVal = val;

  // If there is an empty value and we allow empty values, the value is always valid
  if (allowEmptyValue === true &#x26;&#x26; val === &#x27;&#x27;) {
    return;
  }

  if (_.isArray(val)) {
    _.each(val, function (aVal, index) {
      if (!validateTypeAndFormat(version, aVal, type, format, allowEmptyValue, true)) {
        throwErrorWithCode(&#x27;INVALID_TYPE&#x27;, &#x27;Value at index &#x27; + index + &#x27; is not a valid &#x27; + type + &#x27;: &#x27; + aVal);
      }
    });
  } else {
    switch (type) {
    case &#x27;boolean&#x27;:
      // Coerce the value only for Swagger 1.2
      if (version === &#x27;1.2&#x27; &#x26;&#x26; _.isString(val)) {
        if (val === &#x27;false&#x27;) {
          val = false;
        } else if (val === &#x27;true&#x27;) {
          val = true;
        }
      }

      result = _.isBoolean(val);
      break;
    case &#x27;integer&#x27;:
      // Coerce the value only for Swagger 1.2
      if (version === &#x27;1.2&#x27; &#x26;&#x26; _.isString(val)) {
        val = Number(val);
      }

      result = _.isFinite(val) &#x26;&#x26; (Math.round(val) === val);
      break;
    case &#x27;number&#x27;:
      // Coerce the value only for Swagger 1.2
      if (version === &#x27;1.2&#x27; &#x26;&#x26; _.isString(val)) {
        val = Number(val);
      }

      result = _.isFinite(val);
      break;
    case &#x27;string&#x27;:
      if (!_.isUndefined(format)) {
        switch (format) {
        case &#x27;date&#x27;:
          result = isValidDate(val);
          break;
        case &#x27;date-time&#x27;:
          result = isValidDateTime(val);
          break;
        }
      }
      break;
    case &#x27;void&#x27;:
      result = _.isUndefined(val);
      break;
    }
  }

  if (skipError) {
    return result;
  } else if (!result) {
    throwErrorWithCode(&#x27;INVALID_TYPE&#x27;,
                       type !== &#x27;void&#x27; ?
                         &#x27;Not a valid &#x27; + (_.isUndefined(format) ? &#x27;&#x27; : format + &#x27; &#x27;) + type + &#x27;: &#x27; + oVal :
                         &#x27;Void does not allow a value&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
    
    <h2>
        <a href="#apidoc.element.swagger-tools.validators.validateUniqueItems" id="apidoc.element.swagger-tools.validators.validateUniqueItems">
        function <span class="apidocSignatureSpan">swagger-tools.validators.</span>validateUniqueItems
        <span class="apidocSignatureSpan">(val, isUnique)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">validateUniqueItems = function (val, isUnique) {
  if (!_.isUndefined(isUnique) &#x26;&#x26; _.uniq(val).length !== val.length) {
    throwErrorWithCode(&#x27;ARRAY_UNIQUE&#x27;, &#x27;Does not allow duplicate values: &#x27; + val.join(&#x27;, &#x27;));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
    
    
</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
